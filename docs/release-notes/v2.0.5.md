# Release Notes v2.0.5

## ğŸš€ New Features

### OpenTelemetry Integration
- Added comprehensive OpenTelemetry support for monitoring and tracing
- Introduced span creation and management for SendGrid operations
- Added HTTP metrics tracking (status codes, content length, URLs)
- Added SendGrid-specific metrics (attachments, recipients)

### Enhanced Error Handling
- Improved session management with better error messages
- Added logging for session state changes
- Enhanced exception handling with detailed error information

## ğŸ”§ Improvements

### Code Quality
- Added comprehensive type hints throughout the codebase
- Improved docstrings and documentation
- Enhanced test coverage with new unit and integration tests
- Added proper error handling for session management

### Testing
- Added new test fixtures for telemetry testing
- Introduced integration tests for telemetry functionality
- Added unit tests for HTTP metrics and SendGrid metrics
- Improved test organization and structure

### Documentation
- Added detailed telemetry integration documentation
- Updated README with OpenTelemetry setup instructions
- Added examples for telemetry configuration
- Improved API documentation

## ğŸ› Bug Fixes

- Fixed session management issues
- Improved error handling for closed sessions
- Fixed type hints in telemetry decorators
- Resolved issues with span creation and management

## ğŸ“¦ Dependencies

- Added OpenTelemetry dependencies:
  - opentelemetry-api>=1.20.0
  - opentelemetry-sdk>=1.20.0
- Updated test dependencies:
  - pytest>=7.0.0
  - pytest-asyncio>=0.21.0
  - pytest-cov>=4.1.0

## ğŸ”„ Configuration

- Added environment variable support for span naming:
  - `SENDGRID_SPAN_NAME` (defaults to "sendgrid.send")
- Improved tracer provider configuration
- Enhanced span attribute handling


## ğŸ“ Documentation

### New Documentation
- Added telemetry integration guide
- Added OpenTelemetry setup instructions
- Added examples for metrics and tracing
- Added API reference for telemetry functions

### Updated Documentation
- Updated README with new features
- Enhanced API documentation
- Added more code examples
- Improved error handling documentation 